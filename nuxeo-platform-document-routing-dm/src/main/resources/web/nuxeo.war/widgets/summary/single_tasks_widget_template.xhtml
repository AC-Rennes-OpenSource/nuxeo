<div class="single_tasks_block"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxl="http://nuxeo.org/nxforms/layout"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">

 <c:if test="#{!empty currentDashBoardItemsExceptPublishingTasks}">
    <h3 class="summaryTitle">
      <h:outputText value="#{messages['action.view.associatedTasks']}" />
    </h3>

<c:forEach var="dashboardItem" items="#{currentDashBoardItemsExceptPublishingTasks}" cache="true">    
  <div>
   <nxu:set var="task" value="#{routingTaskActions.setCurrentTask(dashboardItem.task)}" cache="true">
      <a4j:form id="taskForm_#{task.id}" ajaxSubmit="true">
        <nxl:layout name="#{routingTaskActions.getTaskLayout(task)}" mode="edit" value="#{routingTaskActions.formVariables}"/>
           <div class="buttons">
             <nxu:set var="actions"  value="#{routingTaskActions.getTaskButtons(task)}" cache="true">
                <nxu:dataList var="btn_action" value="#{actions}" id="versionActionsTable">
                   <span id="#{sel_action.id}">
                     <a4j:commandLink action="#{routingTaskActions.endTask(task)}" value="#{messages[btn_action]}"  styleClass="button"/>
                  </span>
               </nxu:dataList>
             </nxu:set>   
         </div>
     </a4j:form>    
   </nxu:set>
  </div>   
 </c:forEach>
</c:if>
</div>