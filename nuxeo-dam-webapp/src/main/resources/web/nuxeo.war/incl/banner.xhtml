<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:c="http://java.sun.com/jstl/core">

<div class="banner_actions">

   <rich:modalPanel id="importSetFormPanel" autosized="true" styleClass="ImportSetFormPanel">
      <f:facet name="header">
        <h:panelGroup>
          <h:outputText value="${messages['popup.label.creation.importSet']}"/>
      </h:panelGroup>
    </f:facet>
    <f:facet name="controls">
      <h:panelGroup>
        <h:graphicImage value="/img/close.png"
            styleClass="hidelink" id="hidelink" />
          <rich:componentControl for="importSetFormPanel" attachTo="hidelink"
            operation="hide" event="onclick" />
        </h:panelGroup>
      </f:facet>
      <ui:include src="/incl/new_import_set.xhtml" />
    </rich:modalPanel>


    <a4j:region>
      <a4j:outputPanel id="administrationTable">
        <a4j:form>
          <ul>
            <li>
              <h:outputText styleClass="userName" value="#{messages['label.loggedAsUser']} #{documentActions.fullUserName}" />
            </li>
            <li>
              <h:outputText class="separator" value=" • " />
            </li>
            <li>
              <h:commandLink action="view_admin">
                <h:outputText class="logOutButton" value="#{messages['action.admin.center']}" />
              </h:commandLink>
            </li>
            <li>
              <h:outputText class="separator" value=" • " />
            </li>
            <li>
              <h:commandLink action="#{logoutActions.logout}">
                <h:outputText class="logOutButton" value="#{messages['command.logout']}" />
              </h:commandLink>
            </li>
            <li>
              <h:outputText class="separator" value=" | " />
            </li>
            <li>
              <a4j:commandLink action="#{importActions.invalidateImportContext}" onclick="javascript:Richfaces.showModalPanel('importSetFormPanel');"
                rendered="#{importActions.importFolders.size() > 0}" id="importset_creation_button" reRender="importSetPanel">
                <h:outputText class="importButton" value="${messages['label.action.createImportSet']}"/>
              </a4j:commandLink>
            </li>
            <li>
              <a4j:commandLink id="administration_button" action="#{webActions.navigateToAdministration}"
                rendered="#{!isInsideAdministration and currentUser.isAdministrator()}" reRender="administrationTable">
                <h:outputText class="administrationButton" value="${messages['label.action.administration']}"/>
              </a4j:commandLink>
            </li>
            <li>
              <a4j:commandLink id="asset_management_button" action="#{webActions.navigateToAssetManagement}"
                rendered="#{isInsideAdministration}" reRender="administrationTable">
                <h:outputText class="assetManagementButton" value="${messages['label.action.asset.management']}"/>
              </a4j:commandLink>
            </li>
          </ul>
          <div style="clear:both;"></div>
        </a4j:form>
      </a4j:outputPanel>
    </a4j:region>

    <ui:include src="/incl/waiter.xhtml"/>
</div>

  <c:if test="#{adminMessageActivated}">
    <div style="text-align: center; padding: 5px 5px 5px 25px; border: 1px solid rgb(170, 187, 255); background: url('icons/info.gif') no-repeat 3px center #fff; font: normal 12px Arial,sans-serif; margin:3px;">
         <h:outputText value="#{adminMessage}"/>
    </div>
  </c:if>

</div>
