<div class="searchFilter" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:c="http://java.sun.com/jstl/core"  	  				 	 	 	   	 >

<h3><h:outputText
	value="#{messages['label.filterset.title.search']}" /></h3>

<div class="filterContent">
  <a4j:region>
  <a4j:outputPanel id="filterFormPanel">
  <a4j:form id="filterForm">

   <rich:panelMenu style="width:200px"  mode="none"
     iconExpandedGroup="disc" iconCollapsedGroup="disc" 
     iconExpandedTopGroup="chevronUp" iconGroupTopPosition="right" 
     iconCollapsedTopGroup="chevronDown">
     
     <rich:panelMenuGroup label="#{messages['heading.filter.fulltext']}"
       expanded="true">
     
       <h:inputText id="fulltextFilter" class="searchInput"
         value="#{filterActions.filterDocument.filter_query.ecm_fulltext}">
       <a4j:support event="onkeyup" reRender="filterResultTable"
         requestDelay="1000" action="#{filterActions.invalidateProvider}"
         ignoreDupResponces="true" eventsQueue="filterFormQueue" />
       </h:inputText>
     
     </rich:panelMenuGroup>
     
     <rich:panelMenuGroup label="#{messages['heading.filter.docType']}"
       expanded="true">
       
       <c:forEach varStatus="status" items="#{docTypeSelectItems}" var="item">
       
         <rich:panelMenuItem label="#{messages[item.label]}"
           styleClass="#{item.disabled ? 'selected' : ''}"
           mode="ajax" action="#{filterActions.toggleSelectDocType}"
           reRender="filterResultTable,filterFormPanel"
           eventsQueue="filterFormQueue">
           <f:param name="docType" value="#{item.value}" />
         </rich:panelMenuItem>
       
       </c:forEach>

     </rich:panelMenuGroup>
   </rich:panelMenu>

    <a4j:commandButton  id="filterFormSubmit" type="submit"
      styleClass="button" style="visibility: hidden"
      value="#{messages['label.action.filter.doFulltextSearch']}"
      action="#{filterActions.invalidateProvider}"
      reRender="filterResultTable" eventsQueue="filterFormQueue" />
  </a4j:form>
  </a4j:outputPanel>
  </a4j:region>
</div>

</div>
