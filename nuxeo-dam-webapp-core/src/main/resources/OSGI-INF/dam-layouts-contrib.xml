<?xml version="1.0" encoding="UTF-8"?>
<component name="org.nuxeo.dam.layouts">

  <require>org.nuxeo.ecm.platform.forms.layout.WebLayoutManager</require>
  <require>org.nuxeo.ecm.platform.forms.layouts.webapp.base</require>

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="layouts">

    <layout name="importset">
      <templates>
        <template mode="any">/layouts/layout_summary_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>left</widget>
        </row>
        <row>
          <widget>right</widget>
        </row>
      </rows>
        <widget name="left" type="template">
        <properties mode="any">
          <property name="template">
            /widgets/importset_left_widget.xhtml
          </property>
        </properties>
      </widget>
        <widget name="right" type="template">
        <properties mode="any">
          <property name="template">
            /widgets/importset_right_widget.xhtml
          </property>
        </properties>
      </widget>
    </layout>

    <layout name="importset_left">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>title</widget>
        </row>
        <row>
          <widget>description</widget>
        </row>
        <row>
          <widget>author</widget>
        </row>
        <row>
          <widget>authoringDate</widget>
        </row>
        <row>
          <widget>language</widget>
        </row>
      </rows>
      <widget name="title" type="template">
        <labels>
          <label mode="any">label.dublincore.importset.title</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>dc:title</field>
        </fields>
        <properties mode="any">
          <property name="template">
            /widgets/importset_title_widget.xhtml
          </property>
        </properties>
      </widget>
    </layout>

    <layout name="importset_right">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>coverage</widget>
        </row>
        <row>
          <widget>topic</widget>
        </row>
      </rows>
    </layout>

    <layout name="dublincore">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>language</widget>
        </row>
        <row>
          <widget>topic</widget>
        </row>
        <row>
          <widget>coverage</widget>
        </row>
        <row>
          <widget>expired</widget>
        </row>
      </rows>
    </layout>

    <layout name="importset_heading">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>

      </rows>

    </layout>

    <layout name="heading">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>title</widget>
        </row>
        <row>
          <widget>description</widget>
        </row>
        <row>
          <widget>filename</widget>
        </row>
      </rows>
      <widget name="title" type="text">
        <widgetModes>
          <mode value="view">hidden</mode>
        </widgetModes>
        <labels>
          <label mode="any">label.dublincore.title</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>dc:title</field>
        </fields>
        <properties widgetMode="edit">
          <property name="required">true</property>
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="filename" type="template">
        <widgetModes>
          <mode value="create">hidden</mode>
        </widgetModes>
        <labels>
          <label mode="any">label.file.filename</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>picture.views[0].filename</field>
          <field>file.filename</field>
        </fields>
        <properties mode="any">
          <property name="template">/widgets/filename_widget.xhtml</property>
        </properties>
      </widget>
    </layout>

    <layout name="ip_rights">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>media_type</widget>
        </row>
        <row>
          <widget>geo_broadcast</widget>
        </row>
        <row>
          <widget>copyright_holder</widget>
        </row>
        <row>
          <widget>licence</widget>
        </row>
        <row>
          <widget>embargo_date</widget>
        </row>
        <row>
          <widget>expiration_date</widget>
        </row>
      </rows>

      <widget name="media_type" type="selectOneDirectory">
        <translated>true</translated>
        <fields>
          <field>ipr:media_type</field>
        </fields>
        <properties widgetMode="any">
          <property name="directoryName">dam_media_type</property>
          <property name="localize">true</property>
        </properties>
        <properties widgetMode="edit">
          <property name="ordering">label</property>
          <property name="cssStyleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="geo_broadcast" type="selectOneDirectory">
        <translated>true</translated>
        <fields>
          <field>ipr:geo_broadcast</field>
        </fields>
        <properties widgetMode="any">
          <property name="directoryName">dam_geo_broadcast</property>
          <property name="localize">true</property>
        </properties>
        <properties widgetMode="edit">
          <property name="ordering">label</property>
          <property name="cssStyleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="copyright_holder" type="text">
        <translated>true</translated>
        <fields>
          <field>ipr:copyright_holder</field>
        </fields>
        <properties widgetMode="edit">
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>

      <widget name="licence" type="template">
        <translated>true</translated>
        <fields>
          <field>ipr:licence</field>
        </fields>
        <properties mode="any">
          <property name="template">/widgets/licence_widget.xhtml</property>
        </properties>
      </widget>

      <widget name="embargo_date" type="datetime">
        <translated>true</translated>
        <fields>
          <field>ipr:embargo_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateFormater()}</property>
          <property name="styleClass">dataInputTextDate</property>
        </properties>
      </widget>
      <widget name="expiration_date" type="datetime">
        <translated>true</translated>
        <fields>
          <field>ipr:expiration_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateFormater()}</property>
          <property name="styleClass">dataInputTextDate</property>
        </properties>
      </widget>
    </layout>

    <layout name="folderAdmin">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>name</widget>
        </row>
        <row>
          <widget>description</widget>
        </row>
      </rows>

      <widget name="name" type="text">
        <labels>
          <label mode="any">label.folderName</label>
        </labels>
        <fields>
          <field>dc:title</field>
        </fields>
        <properties widgetMode="edit">
          <property name="required">true</property>
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="description" type="text">
        <labels>
          <label mode="any">label.dublincore.description</label>
        </labels>
        <fields>
          <field>dc:description</field>
        </fields>
        <properties mode="edit">
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
    </layout>

    <layout name="select_users">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>selection</widget>
        </row>
      </rows>
      <widget name="selection" type="template">
        <!-- add empty field to map layout value directly -->
        <fields>
          <field></field>
        </fields>
        <labels>
          <label mode="any"></label>
        </labels>
        <properties mode="any">
          <property name="template">
            /widgets/user_suggestion_widget_template.xhtml
          </property>
          <property name="userSuggestionSearchType">USER_TYPE</property>
        </properties>
      </widget>
    </layout>

    <layout name="select_groups">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>selection</widget>
        </row>
      </rows>
      <widget name="selection" type="template">
        <!-- add empty field to map layout value directly -->
        <fields>
          <field></field>
        </fields>
        <labels>
          <label mode="any"></label>
        </labels>
        <properties mode="any">
          <property name="template">
            /widgets/user_suggestion_widget_template.xhtml
          </property>
          <property name="userSuggestionSearchType">GROUP_TYPE</property>
        </properties>
      </widget>
    </layout>

    <layout name="bulk_edit">
      <templates>
        <template mode="any">/layouts/layout_bulkedit_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>description</widget>
        </row>
        <row>
          <widget>author</widget>
        </row>
        <row>
          <widget>authoringDate</widget>
        </row>
        <row>
          <widget>language</widget>
        </row>
        <row>
          <widget>topic</widget>
        </row>
        <row>
          <widget>coverage</widget>
        </row>
      </rows>
    </layout>
  </extension>

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="widgets">

    <widget name="language" type="selectOneDirectory">
      <labels>
        <label mode="any">label.dublincore.language</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>dc:language</field>
      </fields>
      <properties widgetMode="any">
        <property name="directoryName">language</property>
        <property name="localize">true</property>
      </properties>
      <properties widgetMode="edit">
        <property name="ordering">label</property>
        <property name="cssStyleClass">dataInputText</property>
      </properties>
    </widget>

    <widget name="topic" type="template">
      <labels>
        <label mode="any">label.dublincore.subjects</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>dc:subjects</field>
      </fields>
      <properties mode="any">
        <property name="template">/widgets/subjects_widget.xhtml</property>
      </properties>
    </widget>

    <widget name="coverage" type="template">
      <labels>
        <label mode="any">label.dublincore.coverage</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>dc:coverage</field>
      </fields>
      <properties mode="any">
        <property name="template">/widgets/coverage_widget.xhtml</property>
      </properties>
    </widget>

    <widget name="expired" type="datetime">
      <widgetModes>
        <mode value="create">hidden</mode>
      </widgetModes>
      <labels>
        <label mode="any">label.dublincore.expired</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>dc:expired</field>
      </fields>
      <properties widgetMode="view">
        <property name="pattern">#{nxu:basicDateFormater()}</property>
      </properties>
      <properties widgetMode="edit">
        <property name="format">#{nxu:basicDateFormater()}</property>
        <property name="styleClass">dataInputTextDate</property>
      </properties>
    </widget>

    <widget name="description" type="textarea">
      <labels>
        <label mode="any">label.dublincore.description</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>dc:description</field>
      </fields>
      <properties widgetMode="edit">
        <property name="styleClass">dataInputText</property>
      </properties>
    </widget>

  </extension>
</component>
