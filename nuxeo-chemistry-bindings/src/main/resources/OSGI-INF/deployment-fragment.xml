<?xml version="1.0"?>
<fragment>

  <extension target="application#MODULE">
    <module>
      <java>${bundle.fileName}</java>
    </module>
  </extension>

  <extension target="jaxws#ENDPOINT">
    <endpoint name="RepositoryService"
        implementation="org.apache.chemistry.soap.server.RepositoryServicePortImpl"
        url-pattern="/webservices/cmis/RepositoryService">
      <handler-chains xmlns="http://java.sun.com/xml/ns/javaee">
        <handler-chain>
          <handler>
            <handler-class>org.nuxeo.ecm.core.chemistry.bindings.NuxeoAuthHandler</handler-class>
          </handler>
        </handler-chain>
      </handler-chains>
    </endpoint>
    <endpoint name="DiscoveryService"
        implementation="org.apache.chemistry.soap.server.DiscoveryServicePortImpl"
        url-pattern="/webservices/cmis/DiscoveryService">
      <handler-chains xmlns="http://java.sun.com/xml/ns/javaee">
        <handler-chain>
          <handler>
            <handler-class>org.nuxeo.ecm.core.chemistry.bindings.NuxeoAuthHandler</handler-class>
          </handler>
        </handler-chain>
      </handler-chains>
    </endpoint>
    <endpoint name="ObjectService"
        implementation="org.apache.chemistry.soap.server.ObjectServicePortImpl"
        url-pattern="/webservices/cmis/ObjectService">
      <handler-chains xmlns="http://java.sun.com/xml/ns/javaee">
        <handler-chain>
          <handler>
            <handler-class>org.nuxeo.ecm.core.chemistry.bindings.NuxeoAuthHandler</handler-class>
          </handler>
        </handler-chain>
      </handler-chains>
    </endpoint>
    <endpoint name="NavigationService"
        implementation="org.apache.chemistry.soap.server.NavigationServicePortImpl"
        url-pattern="/webservices/cmis/NavigationService">
      <handler-chains xmlns="http://java.sun.com/xml/ns/javaee">
        <handler-chain>
          <handler>
            <handler-class>org.nuxeo.ecm.core.chemistry.bindings.NuxeoAuthHandler</handler-class>
          </handler>
        </handler-chain>
      </handler-chains>
    </endpoint>
  </extension>

</fragment>
