<?xml version="1.0"?>

<component name="org.nuxeo.io.fsexporter.FSExporter" version="1.0">

	<implementation class="org.nuxeo.io.fsexporter.FSExporter" />

	<service>
		<provide interface="org.nuxeo.io.fsexporter.FSExporterService" />
	</service>

	<extension-point name="exportLogic">
		<documentation>The target directory is not checked if it is empty or
			not.
		</documentation>
		<object class="org.nuxeo.io.fsexporter.ExportLogicDescriptor" />
	</extension-point>

	<extension target="org.nuxeo.ecm.platform.query.api.PageProviderService"
		point="providers">

		<coreQueryPageProvider name="GET_CHILDREN_FSEXPORTER">
			<pattern>
				SELECT * FROM Document WHERE ecm:parentId = ? 
				AND ecm:mixinType !='HiddenInNavigation'
				AND ecm:isCheckedInVersion = 0
				AND ecm:currentLifeCycleState !='deleted'
			</pattern>
			<sort column="dc:title" ascending="true" />
			<pageSize>50</pageSize>
		</coreQueryPageProvider>

	</extension>
</component>
