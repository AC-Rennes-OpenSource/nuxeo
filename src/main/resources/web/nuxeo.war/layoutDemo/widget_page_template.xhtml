<ui:composition template="global_page_template.xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxl="http://nuxeo.org/nxforms/layout"
  xmlns:nxu="http://nuxeo.org/nxweb/util">

  <ui:define name="page title">
    <h:outputText value="Layout demo - #{currentWidgetType.label}"/>
  </ui:define>

  <ui:define name="content">
  
    <h3>#{currentWidgetType.label}</h3>

    <div class="tabsBar">

      <ul>
        <li class="#{nxu:test(empty layoutDemoCurrentTabId, 'selected', '')}">
          <a href="#{baseURL}#{currentWidgetType.url}">Overview</a>
        </li>
        <li class="#{nxu:test(layoutDemoCurrentTabId == 'reference', 'selected', '')}">
          <a href="#{baseURL}#{currentWidgetType.url}?tabId=reference">Reference</a>
        </li>
        <c:if test="#{currentWidgetType.previewEnabled}">
          <li class="#{nxu:test(layoutDemoCurrentTabId == 'preview', 'selected', '')}">
            <a href="#{baseURL}#{currentWidgetType.url}?tabId=preview">Preview</a>
          </li>
        </c:if>
      </ul>
    </div>
    <div style="clear:both"></div>
    <div class="tabsContent">

      <c:if test="#{empty layoutDemoCurrentTabId}">
        <c:forEach var="demoLayout" items="#{currentWidgetType.demoLayouts}" varStatus="demoLayoutStatus">
          <ui:include src="/layoutDemo/widget_demo_template.xhtml" />    
        </c:forEach>
      </c:if>

      <c:if test="#{layoutDemoCurrentTabId == 'reference'}">
        <ui:include src="/layoutDemo/widget_reference_template.xhtml" />
      </c:if>

      <c:if test="#{layoutDemoCurrentTabId == 'preview'}">
        <ui:include src="/layoutDemo/widget_preview_template.xhtml" />
      </c:if>
      
    </div>

  </ui:define>

</ui:composition>