<div xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxu="http://nuxeo.org/nxweb/util">

  <div class="foldableBox">

    <nxu:set var="builtinWidgetsSelected" value="#{currentWidgetType.category == 'builtin'}">
      <h3 class="#{nxu:test(builtinWidgetsSelected, 'unfolded', 'folded')}">
        <a href="#nogo" onclick="return toggleBox(this)">
          <h:outputText value="Builtin widgets" />
        </a>
      </h3>
  
      <div class="boxBody"
        style="#{nxu:test(builtinWidgetsSelected, '', 'overflow: visible; display: none;')}">
  
        <nxu:set var="widgetTypes" value="#{builtinWidgetTypes}">
          <ul class="layoutDemoMenu">
            <c:forEach var="widgetType" items="#{widgetTypes}">
              <li class="#{nxu:test(currentWidgetType.name == widgetType.name, 'selected', '')}">
                <a href="#{baseURL}#{widgetType.url}">#{widgetType.label}</a>
              </li>
            </c:forEach>
          </ul>
        </nxu:set>
  
      </div>
    </nxu:set>
    
  </div>

  <div class="foldableBox">

    <nxu:set var="customWidgetsSelected" value="#{currentWidgetType.category == 'custom'}">
      <h3 class="#{nxu:test(customWidgetsSelected, 'unfolded', 'folded')}">
        <a href="#nogo" onclick="return toggleBox(this)">
          <h:outputText value="Custom widgets" />
        </a>
      </h3>
  
      <div class="boxBody"
        style="#{nxu:test(customWidgetsSelected, '', 'overflow: visible; display: none;')}">
  
        TODO
  
      </div>
    </nxu:set>

  </div>


</div>