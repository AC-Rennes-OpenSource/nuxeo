<?xml version="1.0"?>
<component name="org.nuxeo.test.ecm.user.registration.core.types.contrib">

  <require>org.nuxeo.ecm.user.registration.core.types.contrib</require>

  <extension target="org.nuxeo.ecm.core.schema.TypeService" point="doctype">
    <doctype name="TestRegistration" extends="File">
      <facet name="UserRegistration" />
    </doctype>
  </extension>

  <extension target="org.nuxeo.ecm.user.registration.UserRegistrationService"
      point="configuration">

      <configuration>
        <requestDocType>TestRegistration</requestDocType>
        <container>
          <docType>Workspace</docType>
          <parentPath>/requests/</parentPath>
          <name>registrationRequests</name>
          <title>Registration Requests</title>
        </container>
        <validationEmail>
          <title>Invitation for a test workspace</title>
          <template>templates/TestUserRegistration.ftl</template>
        </validationEmail>
      </configuration>
    </extension>
</component>