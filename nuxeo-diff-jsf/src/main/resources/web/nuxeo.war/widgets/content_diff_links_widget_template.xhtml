<f:subview xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:fn="http://java.sun.com/jsp/jstl/functions"
  id="#{widget.id}">
<c:if test="#{nxl:isLikePlainMode(widget.mode) or nxl:isLikeViewMode(widget.mode)}">
  <c:if test="#{not empty field}">
    <nxu:set var="xPathForUrlParam" value="#{fn:replace(field, '/', '--')}" cache="true">
    <nxu:set var="fieldNameForJsfId" value="#{fn:replace(xPathForUrlParam, ':', '_')}" cache="true">
      <span class="contentDiffLink">
        <h:outputLink id="openContentDiffFancyBox_#{fieldNameForJsfId}_any2text"
          value="javascript:showFancyBox('#{diffActions.getContentDiffFancyBoxURL(widget.label, xPathForUrlParam, 'text')}','90%','90%','no');"
          title="#{messages['diff.content.noLayout.link.title']}">
          <nxu:graphicImage value="/icons/action_diff.png" />
        </h:outputLink>
      </span>
      <span class="contentDiffLink">
        <h:outputLink id="openContentDiffFancyBox_#{fieldNameForJsfId}_office2html"
          value="javascript:showFancyBox('#{diffActions.getContentDiffFancyBoxURL(widget.label, xPathForUrlParam)}','90%','90%','no');"
          title="#{messages['diff.content.keepLayout.link.title']}">
          <nxu:graphicImage value="/icons/note.gif" />
        </h:outputLink>
      </span>
    </nxu:set>
    </nxu:set>
  </c:if>
</c:if>
</f:subview>