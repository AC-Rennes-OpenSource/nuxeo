<?xml version="1.0"?>
<component name="org.nuxeo.ecm.platform.video.convert.commandline">

  <extension target="org.nuxeo.ecm.platform.commandline.executor.service.CommandLineExecutorComponent"
    point="command">

    <command name="ffmpeg-storyboard" enabled="true">
      <commandLine>ffmpeg</commandLine>
      <parameterString> -y -i #{inFilePath} -f image2 -r #{rate} -s #{width}x#{height} -an #{outFolderPath}/video-thumb-%06d.jpeg</parameterString>
      <winParameterString> -y -i #{inFilePath} -f image2 -r #{rate} -s #{width}x#{height} -an #{outFolderPath}/video-thumb-%06d.jpeg</winParameterString>
      <installationDirective>You need to install ffmpeg</installationDirective>
    </command>
    
    <command name="ffmpeg-screenshot" enabled="true">
      <commandLine>ffmpeg</commandLine>
      <parameterString> -y -i #{inFilePath} -f image2 -ss #{position} #{outFilePath}</parameterString>
      <winParameterString> -y -i #{inFilePath} -f image2 -ss #{position} #{outFilePath}</winParameterString>
      <installationDirective>You need to install ffmpeg</installationDirective>
    </command>

  </extension>

</component>
