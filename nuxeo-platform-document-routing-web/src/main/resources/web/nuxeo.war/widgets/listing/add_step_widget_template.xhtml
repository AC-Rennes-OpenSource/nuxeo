<f:subview id="#{widget.id}_add"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core">

  <c:if test="#{isEmptyFork}">
   <nxu:set var="actions" value="#{routingWebActions.getAddStepInActions(field_0)}" cache="true">
      <c:if test="#{!empty actions}">
        <c:forEach items="#{actions}" var="action">
          <li><a4j:commandLink id="#{action}"
              onclick="document.getElementById('selectRouteElementsTypeForCreationForm:hiddenSourceDocId').value = '#{field_1}';#{action.getLink()}"
              reRender="selectRouteElementsTypeForCreationRegion">
              <nxu:graphicImage value="#{action.icon}"
                rendered="#{not empty action.icon}" />
              <h:outputText value="#{messages[action.label]}" />
              <f:param name="stepId" value="#{field_1}" />
            </a4j:commandLink>
          </li>
        </c:forEach>
      </c:if>
    </nxu:set>
  </c:if>
  <c:if test="#{isEditableRouteElement}">
   <nxu:set var="actions" value="#{routingWebActions.getAddStepActions(field_0)}" cache="true">
      <c:if test="#{!empty actions}">
        <c:forEach items="#{actions}" var="action">
          <li><a4j:commandLink id="#{action}"
              onclick="document.getElementById('selectRouteElementsTypeForCreationForm:hiddenSourceDocId').value = '#{field_1}';#{action.getLink()}"
              reRender="selectRouteElementsTypeForCreationRegion">
              <h:graphicImage value="#{action.icon}"
                rendered="#{not empty action.icon}" />
              <h:outputText value="#{messages[action.label]}" />
              <f:param name="stepId" value="#{field_1}" />
            </a4j:commandLink>
          </li>
        </c:forEach>
      </c:if>
    </nxu:set>
  </c:if>    

</f:subview>
