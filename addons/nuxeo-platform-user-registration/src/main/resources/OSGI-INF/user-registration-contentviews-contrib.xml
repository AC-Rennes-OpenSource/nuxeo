<?xml version="1.0"?>
<component name="org.nuxeo.ecm.user.registration.contentviews.contrib">

  <extension target="org.nuxeo.ecm.platform.ui.web.ContentViewService"
    point="contentViews">

    <contentView name="user_requests_view">

      <coreQueryPageProvider>
        <property name="coreSession">#{documentManager}</property>
        <pattern>
          SELECT * FROM Document WHERE ecm:primaryType = ? AND ecm:isCheckedInVersion = 0
      </pattern>
        <parameter>#{userRegistrationActions.docType}</parameter>
        <pageSize>20</pageSize>
      </coreQueryPageProvider>

      <refresh>
        <event>documentChanged</event>
        <event>documentChildrenChanged</event>
      </refresh>
      <cacheKey>only_one_cache</cacheKey>
      <cacheSize>1</cacheSize>

      <resultLayouts>
        <layout name="user_requests_listing_layout" title="document_listing"
          translateTitle="true" iconPath="/icons/document_listing_icon.png" />
      </resultLayouts>

    </contentView>

  </extension>


</component>
