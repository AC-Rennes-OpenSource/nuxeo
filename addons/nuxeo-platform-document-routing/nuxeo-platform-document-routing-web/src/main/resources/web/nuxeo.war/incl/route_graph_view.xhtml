<div xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxl="http://nuxeo.org/nxforms/layout">

   <script type="text/javascript">
   <h:outputText  value="var routeDocId='#{routingActions.getRelatedRoute().document.id}';" />
   <h:outputText value="var currentLang='#{restHelper.getLocaleString()}';"/>   
     function showGraph() {
       loadGraph(routeDocId, currentLang);
       jQuery('&lt;a href="#graphView_box"&gt;&lt;/a&gt;').fancybox({
         'autoScale': true,
         'autoDimensions': false,
         'type': 'inline',
         'width': '90%',
         'height': '90%',
         'transitionIn': 'none',
         'transitionOut': 'none',
         'enableEscapeButton': true,
         'centerOnScroll': true
        }).click();
          return false;
        }
   </script>

   <a href="#" onclick="showGraph();return false;" class="button">#{messages['label.document.routing.show.graph']}</a>

   <div style="display:none">
    <div id="graphView_box">
      <!-- div container for the graph -->
    <div id="target" class="targetDiv"></div>
   </div>
  </div>
</div>