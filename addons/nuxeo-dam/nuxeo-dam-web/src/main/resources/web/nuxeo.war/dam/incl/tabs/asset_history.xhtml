<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:nxthemes="http://nuxeo.org/nxthemes"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  class="historyBlock">

  <fieldset>
    <legend><h:outputText value="#{messages['label.header.history']}" /></legend>

    <h:dataTable var="logEntry" value="#{damDocumentActions.selectedAssetLogEntries}"
      class="dataOutput" rowClasses="dataRowEven,dataRowOdd">
      <h:column>
        <f:facet name="header">
          <h:outputText value="#{messages['label.performedAction']}" />
        </f:facet>
        <h:outputText value="#{messages[logEntry.eventId]}" />
      </h:column>
      <h:column>
      <f:facet name="header">
        <h:outputText value="#{messages['label.date']}" />
        </f:facet>
        <h:outputText value="#{logEntry.eventDate}" >
          <f:convertDateTime pattern="#{nxu:basicDateFormater()}"
            timeZone="#{timeZone}" />
        </h:outputText>
    </h:column>
    <h:column>
      <f:facet name="header">
        <h:outputText value="#{messages['label.time']}" />
      </f:facet>
        <h:outputText value="#{logEntry.eventDate}" converter="TimeConverter"/>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="#{messages['label.username']}" />
        </f:facet>
        <h:outputText value="#{nxu:userFullName(logEntry.principalName)}" />
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="#{messages['label.lifecycle']}" />
        </f:facet>
        <h:outputText value="#{messages[logEntry.docLifeCycle]}" />
      </h:column>
    </h:dataTable>
  </fieldset>
</div>
