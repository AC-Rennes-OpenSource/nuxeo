<?xml version="1.0"?>
<fragment version="1">

    <extension target="web#STD-AUTH-FILTER">
        <filter-mapping>
            <filter-name>NuxeoAuthenticationFilter</filter-name>
            <url-pattern>/_vti_bin/*</url-pattern>
            <dispatcher>REQUEST</dispatcher>
            <dispatcher>FORWARD</dispatcher>
        </filter-mapping>
        <filter-mapping>
            <filter-name>NuxeoAuthenticationFilter</filter-name>
            <url-pattern>/nuxeo/_vti_bin/*</url-pattern>
            <dispatcher>REQUEST</dispatcher>
            <dispatcher>FORWARD</dispatcher>
        </filter-mapping>
    </extension>

    <extension target="web#FILTER">

        <filter>
            <display-name>WSS Filter</display-name>
            <filter-name>WSSFilter</filter-name>
            <filter-class>org.nuxeo.wss.servlet.FailSafeWSSFilter</filter-class>
        </filter>
        <filter-mapping>
            <filter-name>WSSFilter</filter-name>
            <url-pattern>/*</url-pattern>
            <dispatcher>REQUEST</dispatcher>
            <dispatcher>FORWARD</dispatcher>
        </filter-mapping>
    </extension>

</fragment>

